# 为 UIViewController 适配不同版本的 iPhone

如何在 `UIViewController` 的 `view` 中正确地使用 `NSLayoutAnchor` 来进行自动布局？

目前，最新款的 iPhone 就是 iPhone X，iPhone X 与以往的 iPhone 有一个不同之处在于它是一个有刘海屏的 iPhone。

在此之前，如果要对 iPhone 进行适配的话，只要使用 `topLayoutGuide` 和 `bottomLayoutGuide` 这两个 `UIViewController` 自带的两个属性就可以了。因为使用这两个属性就可以正确地设置一个 `UIView` 该有的尺寸和布局位置。

**iOS 7.0 - iOS 10.0**

```swift
// Indicates the highest vertical extent for your onscreen content, for use with Auto Layout constraints.
// Use the safeAreaLayoutGuide property of UIView instead.

var topLayoutGuide: UILayoutSupport { get }

// Indicates the lowest vertical extent for your onscreen content, for use with Auto Layout constraints.
// Use the safeAreaLayoutGuide property of UIView instead.

var bottomLayoutGuide: UILayoutSupport { get }
```

但 iPhone X 到来之后，显然只有这两个属性是不足够的。因为一般的 iPhone 在水平屏幕的时候，不存在刘海屏的突出的部分，也就是说是不会造成屏幕显示缺失的问题。

为了解决 iPhone X 的这个问题，在 iOS 11.0 开始引入了一个新的 API 在 `UIView` 的身上。`UIView` 多了一个方法 `safeAreaLayoutGuide`。`UIViewController` 中的 `UIView` 在布局的时候要参考这个属性去做就会很安全。

**iOS 11.0 +**

```swift
// The layout guide representing the portion of your view that is unobscured by bars and other content.

var safeAreaLayoutGuide: UILayoutGuide { get }
```



### 参考链接

* [topLayoutGuide - UIViewController | Apple Developer Documentation](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621367-toplayoutguide#)

* [bottomLayoutGuide - UIViewController | Apple Developer Documentation](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621504-bottomlayoutguide#)

